<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>玛迪卡</title>
    <link rel="stylesheet" href="../src/css/layui.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../font-awesome-4.7.0/css/font-awesome.min.css">
    <script src="../js/echarts.min.js"></script>
    <style>
        #contente {
            width: 100%;
            height: 628px;
            /* background-color: yellow; */
        }
        
        .layui-first i {
            display: none !important;
        }
        .layui-tab-card > .layui-tab-title .layui-this {
            background: #ff9600;
        }
    </style>
</head>

<body>
    <div class="layui-layout layui-layout-admin">
        <ul class="menu_l">
            <div class="logo"></div>
            <div class="menu_cen">
                <ul>
                    <li>
                        <a href="#"> <i class="fa fa-desktop tb" aria-hidden="true"></i>预约审核
                            <i class="fa fa-angle-right jt" aria-hidden="true"></i>
                        </a>
                        <ul class="listMenu" lay-filter="test">
                            <li class="layui-nav-item leftdaohang" data-url="./examine.html" mytitle="预约审核">
                                <a>待审核</a>
                            </li>
                            <li>
                                <a>已审核</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"> <i class="fa fa-file-text-o tb" aria-hidden="true"></i>体检登记
                            <i class="fa fa-angle-right jt" aria-hidden="true"></i>
                        </a>
                        <ul class="listMenu" lay-filter="test">
                            <li class="layui-nav-item leftdaohang" data-url="input1.html" mytitle="快速录入" data-id="listHolder">
                                <a>快速录入</a>
                            </li>
                            <li class="layui-nav-item leftdaohang" data-url="input2.html" mytitle="基础录入" data-id="listHolder">
                                <a>基础录入</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"> <i class="fa fa-thermometer-three-quarters tb" aria-hidden="true"></i>体检项目
                            <i class="fa fa-angle-right jt" aria-hidden="true"></i>
                        </a>
                        <ul class="listMenu" lay-filter="test">
                            <li class="layui-nav-item leftdaohang" data-url="healthtable.html" mytitle="既往病史">
                                <a>既往病史</a>
                            </li>
                            <li class="layui-nav-item leftdaohang" data-url="new_file1.html" mytitle="体征">
                                <a>体征</a>
                            </li>
                            <li class="layui-nav-item leftdaohang">
                                <a>X线胸透</a>
                            </li>
                            <li class="layui-nav-item leftdaohang">
                                <a>实验室检验</a>
                            </li>
                            <li class="layui-nav-item leftdaohang">
                                <a>检查结论</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"> <i class="fa fa-bar-chart tb" aria-hidden="true"></i>查询统计
                            <i class="fa fa-angle-right jt" aria-hidden="true"></i>
                        </a>
                        <ul class="listMenu" lay-filter="test">
                            <li class="layui-nav-item leftdaohang" data-url="healthy.html" mytitle="体检表">
                                <a>体检表</a>
                            </li>
                            <li class="layui-nav-item leftdaohang" data-url="healthtable.html" mytitle="签领表">
                                <a>签领表</a>
                            </li>
                            <li>
                                <a>结果统计</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="layui-nav-item leftdaohang" data-url="./physical.html" mytitle="体检审核"> <i class="fa fa-check-square-o tb" aria-hidden="true"></i>体检审核
                            <i class="fa fa-angle-right jt" aria-hidden="true"></i>
                        </a>
                        <ul class="listMenu">
                            <li class="layui-nav-item leftdaohang" data-url="./physical.html" mytitle="体检审核">
                                <a>未审核</a>
                            </li>
                            <li class="layui-nav-item leftdaohang" data-url="./physical.html" mytitle="体检审核">
                                <a>不合格</a>
                            </li>
                            <li class="layui-nav-item leftdaohang" data-url="./physical.html" mytitle="体检审核">
                                <a>合格</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"> <i class="fa fa-address-card-o tb" aria-hidden="true"></i>健康证
                            <i class="fa fa-angle-right jt" aria-hidden="true"></i>
                        </a>
                        <ul class="listMenu">
                            <li>
                                <a>健康证一</a>
                            </li>
                            <li>
                                <a>健康证二</a>
                            </li>
                            <li>
                                <a>自定义</a>
                            </li>
                        </ul>
                    </li>
                    <li>

                        <a href="#"> <i class="fa fa-cog tb" aria-hidden="true"></i>设置中心
                            <i class="fa fa-angle-right jt" aria-hidden="true"></i>
                        </a>
                        <ul class="listMenu">
                            <li>
                                <a>系统参数</a>
                            </li>
                            <li>
                                <a>权限设置</a>
                            </li>
                            <li>
                                <a>操作记录</a>
                            </li>
                            <li>
                                <a>备份与恢复</a>
                            </li>
                            <li>
                                <a>数据初始化</a>
                            </li>
                            <li>
                                <a>云之家</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </ul>
        <div class="layui-body">
            <!-- 内容主体区域 -->
            <div class="mdk_head">
                <h3>武汉市玛迪卡智能科技有限公司</h3>
                <div class="incnss">
                    <a href="#">
                        <img src="../images/logging1.jpg" alt="">
                    </a>
                    <a href="#">
                        <img src="../images/logging2.jpg" alt="">
                    </a>
                    <a href="#">
                        <img src="../images/logging3.jpg" alt="">
                    </a>
                    <a href="#">
                        <img src="../images/logging4.jpg" alt="">
                    </a>
                </div>
            </div>
            <div class="mdk_body">

                <div id="contente" class="layui-tab layui-tab-card" lay-filter="demo" lay-allowclose="true">
                    <ul class="layui-tab-title top_tab" style="background-color: #022387;height: 30px;color: white;margin-top:0%;">
                        <li class="layui-this layui-first" data-url="admin.html">首页</li>
                    </ul>
                    <div class="layui-tab-content">

                        <iframe id="iframe" src="admin.html" width="100%" height="700" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no" allowtransparency="yes"></iframe>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <script src="../src/layui.js"></script>
    <script>
        const iframe = document.querySelector('#iframe')
        layui.use('element', function() {
            var $ = layui.jquery,
                element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块




            element.on('tab(demo)', function(data) {
                console.dir(this); //当前Tab标题所在的原始DOM元素
                console.log(this.dataset.url);
                iframe.src = this.dataset.url
            });
            var active = {
                tabAdd: function(url, id, name) {
                    //新增一个Tab项 传入三个参数，分别对应其标题，tab页面的地址，还有一个规定的id，是标签中data-id的属性值
                    //关于tabAdd的方法所传入的参数可看layui的开发文档中基础方法部分
                    iframe.src = url
                    $('.top_tab').children().removeClass('layui-this').end().append(
                        `<li class='layui-this' data-url=${url}>${name}</li>`);
                    element.render('tab');

                },
            };

            //当点击有site-demo-active属性的标签时，即左侧菜单栏中内容 ，触发点击事件
            $('.leftdaohang').on('click', function() {
                var dataid = $(this);
                //这时会判断右侧.layui-tab-title属性下的有lay-id属性的li的数目，即已经打开的tab项数目
                if ($(".layui-tab-title li").length <= 1) {
                    //如果比零小，则直接打开新的tab项
                    active.tabAdd(dataid.attr("data-url"), dataid.attr("data-id"), dataid.attr(
                        "mytitle"));
                } else {
                    //否则判断该tab项是否以及存在
                    var isData = false; //初始化一个标志，为false说明未打开该tab项 为true则说明已有
                    $.each($(".layui-tab-title li"), function() {
                        //如果点击左侧菜单栏所传入的id 在右侧tab项中的lay-id属性可以找到，则说明该tab项已经打开
                        if ($(this).attr("data-url") == dataid.attr("data-url")) {
                            isData = true;
                        }
                    })
                    if (isData == false) {
                        //标志为false 新增一个tab项
                        active.tabAdd(dataid.attr("data-url"), dataid.attr("data-id"), dataid.attr(
                            "mytitle"));
                    }
                    [...document.querySelector('.top_tab').children].some(function(e) {
                        if (e.dataset.url == dataid.attr("data-url")) {
                            e.click()
                            return true
                        }
                    })
                }

            });
        });
    </script>
</body>

</html>